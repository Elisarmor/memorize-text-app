<h2>{{workbook.name}} - {{sheet.name}}</h2>

{{#if currentCard}}

	<h3>
		{{prompt(currentCard)}}
	</h3>
	<p>
		{{answer(currentCard)}}
	</p>
	<p>
		<a href="{{asr.makePath(null, { number: nextNumber }, { inherit: true }) }}">Next</a>
	</p>

	<div>
		<KeyboardInput ref:input on:input="onKeypress(event)" />
	</div>
{{/if}}

<script>
import KeyboardInput from 'shared/KeyboardInput.html'

export default {
	helpers: {
		prompt: row => row[0],
		answer: row => row[1],
	},
	computed: {
		index: number => number - 1,
		nextNumber: number => number + 1,
		currentCard: (sheet, index) => sheet.rows[index]
	},
	methods: {
		onKeypress(key) {
			console.log(key)
		},
		onStateInit() {
			if (this.get('currentCard')) {
				this.refs.input.focus()
			}
		},
	},
	components: {
		KeyboardInput
	}
}
</script>
