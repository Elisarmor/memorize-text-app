(function(){"use strict";/**
	 * Escape the capturing group by escaping special characters and meaning.
	 *
	 * @param  {String} group
	 * @return {String}
	 */function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}/**
	 * Attach the keys as a property of the regexp.
	 *
	 * @param  {RegExp} re
	 * @param  {Array}  keys
	 * @return {RegExp}
	 */function t(e,t,n){return e.keys=t,e.allTokens=n,e}/**
	 * Get the flags for a regexp from the options.
	 *
	 * @param  {Object} options
	 * @return {String}
	 */function n(e){return e.sensitive?"":"i"}/**
	 * Pull out keys from a regexp.
	 *
	 * @param  {RegExp} path
	 * @param  {Array}  keys
	 * @return {RegExp}
	 */function a(e,n,a){// Use a negative lookahead to match only capturing groups.
var r=e.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)n.push({name:o,delimiter:null,optional:!1,repeat:!1});return t(e,n,a)}/**
	 * Transform an array into a regexp.
	 *
	 * @param  {Array}  path
	 * @param  {Array}  keys
	 * @param  {Object} options
	 * @return {RegExp}
	 */function r(e,a,r,o){for(var d=[],l=0;l<e.length;l++)d.push(s(e[l],a,r,o).source);var m=new RegExp("(?:"+d.join("|")+")",n(r));return t(m,a,o)}/**
	 * Replace the specific tags with regexp strings.
	 *
	 * @param  {String} path
	 * @param  {Array}  keys
	 * @return {String}
	 */function o(t,n,a){function r(e){0===i&&"/"!==e[0]&&(e="/"+e),a.push({string:e})}function o(o,d,l,m,u,c,h,p,f){if(d)return d;if(p)return"\\"+p;var g="+"===h||"*"===h,y="?"===h||"*"===h;f>i&&r(t.substring(i,f)),i=f+o.length;var k={name:m||s++,delimiter:l||"/",optional:y,repeat:g};return n.push(k),a.push(k),l=l?"\\"+l:"",u=e(u||c||"[^"+(l||"\\/")+"]+?"),g&&(u=u+"(?:"+l+u+")*"),y?"(?:"+l+"("+u+"))?":l+"("+u+")";// Basic parameter support.
}var s=0,i=0,d=t.replace(Ge,o);return i<t.length&&r(t.substring(i)),d}/**
	 * Normalize the given path string, returning a regular expression.
	 *
	 * An empty array can be passed in for the keys, which will hold the
	 * placeholder key descriptions. For example, using `/user/:id`, `keys` will
	 * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.
	 *
	 * @param  {(String|RegExp|Array)} path
	 * @param  {Array}                 [keys]
	 * @param  {Object}                [options]
	 * @return {RegExp}
	 */function s(e,s,i,d){if(s=s||[],d=d||[],$e(s)?!i&&(i={}):(i=s,s=[]),e instanceof RegExp)return a(e,s,i,d);if($e(e))return r(e,s,i,d);var l=i.strict,m=!1!==i.end,u=o(e,s,d),c="/"===e.charAt(e.length-1);return l||(u=(c?u.slice(0,-2):u)+"(?:\\/(?=$))?"),u+=m?"$":l&&c?"":"(?=\\/|$)",t(new RegExp("^"+u,n(i)),s,d)}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function d(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function l(e){switch(e.arrayFormat){case"index":return function(t,n,a){return null===n?[u(t,e),"[",a,"]"].join(""):[u(t,e),"[",u(a,e),"]=",u(n,e)].join("")};case"bracket":return function(t,n){return null===n?u(t,e):[u(t,e),"[]=",u(n,e)].join("")};default:return function(t,n){return null===n?u(t,e):[u(t,e),"=",u(n,e)].join("")};}}function m(e){var t;switch(e.arrayFormat){case"index":return function(e,n,a){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?void(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):void(a[e]=n)};case"bracket":return function(e,n,a){return(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t)?void(a[e]=n):void 0===a[e]?void(a[e]=[n]):void(a[e]=[].concat(a[e],n))};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))};}}function u(e,t){return t.encode?t.strict?Xe(e):encodeURIComponent(e):e}function c(e){if(Array.isArray(e))return e.sort();return"object"==typeof e?c(Object.keys(e)).sort(function(e,t){return+e-+t}).map(function(t){return e[t]}):e}function h(e,t){e.location.replace(p(e.location.href)+"#"+t)}function p(e){var t=e.indexOf("#");return-1===t?e:e.substring(0,t)}function f(e,t){e.location.hash=t}function g(e,t){var n=y(e.location.hash);return t?decodeURI(n):n}function y(e){return e&&"#"===e[0]?e.substr(1):e}function k(){var e=document.createElement("a");return e.href="#x x",!/x x/.test(e.hash)}function v(e,t,n,a){_(e,S(t.get()),n,a)}function b(e){var t=e.split("?");return{path:t.shift(),queryString:at.parse(t.join(""))}}function _(e,t,n,a){var r=b(t);t=r.path;var o=r.queryString,s=P(n?x(e):e,t);if(s){var i=s.exec(t),d=w(s.keys,i),l=rt(o,d);s.fn(l)}else a(t,o)}function x(e){return e.slice().reverse()}function w(e,t){return e.reduce(function(e,n,a){return e[n.name]=t[a+1],e},{})}function C(e,t,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var a=Ke(t);a.fn=n,e.push(a)}function A(e,t,n,a,r){var o=S(t.get());if(o&&("/"!==o||"/"===r)){var s=e.slice();v(s,t,n,a)}else t.go(r)}function S(e){var t=e.match(it);return t?t[1]:""}function E(e){return e&&e.go&&e.replace&&e.on}function P(e,t){for(var n=0;n<e.length;++n)if(t.match(e[n]))return e[n]}// This file to be replaced with an official implementation maintained by
// the page.js crew if and when that becomes an option
function N(e,t,n){var a=W(t,n);return 0===Object.keys(a).length?e:e+"?"+lt(a)}function W(e,t){var n=t.reduce(function(e,t){return t.string||(e[t.name]=t),e},{});return Object.keys(e).filter(function(e){return!n[e]}).reduce(function(t,n){return t[n]=e[n],t},{})}function L(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function I(){var e={};return function(t){return t?(e[t]||(e[t]=ut(t).keys.map(function(e){return e.name})),e[t]):[]}}function T(e){var t=e.stateState,n=e.getPathParameters,a=e.stateName,r=e.fromParameters,o=e.toParameters,s=t.get(a),i=s.querystringParameters||[],d=n(s.route).concat(i);return Array.isArray(d)&&d.some(function(e){return r[e]!==o[e]})}function z(e){var t=e.parametersChanged,n=e.original,a=e.destination,r=mt({start:yt(n.name),end:yt(a.name)});return r.map(function(e){var r=e.start,o=e.end;return{nameBefore:r,nameAfter:o,stateNameChanged:r!==o,stateParametersChanged:r===o&&t({stateName:r,fromParameters:n.parameters,toParameters:a.parameters})}})}function j(e,t){var n=yt(t);return n.filter(function(t){return e[t]}).reduce(function(t,n){return vt(t,e[n])},{})}function O(e,t){return{redirectTo:{name:e,params:t}}}// { [stateName]: resolveResult }
function H(e,t){var n=e.filter(Nt("resolve")),a=n.map(Et("name")),r=Promise.all(n.map(function(e){return new Promise(function(n,a){var r=function(e,t){return e?a(e):n(t)};r.redirect=function(e,t){a(O(e,t))};var o=e.resolve(e.data,t,r);Wt(o)&&n(o)})}));return r.then(function(e){return mt({stateName:a,resolveResult:e}).reduce(function(e,t){return e[t.stateName]=t.resolveResult,e},{})})}function D(e,t,n){// const coolPrototype = Object.assign(Object.create(Component.prototype), methods)
// return Component.call(coolPrototype, options)
return Object.assign(new e(t),n)}function F(e,t){return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}function U(){}function V(e,t){for(var n in t)e[n]=t[n];return e}function Q(e,t){e.appendChild(t)}function R(e,t,n){e.insertBefore(t,n)}function B(e){e.parentNode.removeChild(e)}function q(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function M(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function K(e,t,n,a){e.addEventListener(t,n,a)}function G(e,t,n,a){e.removeEventListener(t,n,a)}function Y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function J(e,t){e.data=""+t}function X(e,t,n){e.style.setProperty(t,n)}function Z(){return Object.create(null)}function ee(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var a,r=0;r<n.length;r+=1)if(a=n[r],!a.__calling)try{a.__calling=!0,a.call(this,t)}finally{a.__calling=!1}}function te(e){e._lock=!0,ae(e._beforecreate),ae(e._oncreate),ae(e._aftercreate),e._lock=!1}function ne(e,t){e._handlers=Z(),e._slots=Z(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function ae(e){for(;e&&e.length;)e.shift()()}function re(e){return 200<=e.status&&400>e.status}function oe(e){return JSON.stringify(e)}function se(e){return JSON.parse(e.responseText)}function ie(){return{sheetUrl:``,exampleWorkbooks:Vt}}function de(e,t,n){const a=Object.create(e);return a.exampleWorkbook=t[n],a}function le(e,t,n){const a=Object.create(e);return a.seenWorkbook=t[n],a}function me(e,t){function n(){W=!0,e.set({sheetUrl:p.value}),W=!1}function a(){e.loadSheet(t.sheetUrl)}for(var r,o,s,d,l,m,u,c,h,p,f,g,y,k,v,b,_,x,w,C,A,S,E,P,N,W=!1,L=t.seenWorkbooks.length&&ue(e,t),I=t.exampleWorkbooks,T=[],z=0;z<I.length;z+=1)T[z]=pe(e,de(t,I,z));var j=t.error&&fe(e,t);return{c(){r=M("div"),o=M("div"),s=M("h1"),s.textContent="Memorize Text",d=$("\n\n\t\t"),L&&L.c(),l=$("\n\n\t\t"),m=M("h2"),m.textContent="Memorize a new deck",u=$("\n\n\t\t"),c=M("label"),h=$("Google Sheets share link\n\t\t\t"),p=M("input"),f=$("\n\n\t\t"),g=M("h2"),g.textContent="What is this",y=$("\n\n\t\t"),k=M("p"),k.textContent="Memorize Text is an \"active recall\" flash card tool.  There are many other such tools, but they tend to focus on memorizing single facts.",v=$("\n\t\t"),b=M("p"),b.textContent="Memorize Text focuses on making it easier for you to memorize longer passages of text.  It is a tool for people who are memorizing poetry, or scripture, or a part in a play.",_=$("\n\t\t"),x=M("p"),x.textContent="It is designed to be very simple for you to build and maintain your own decks of cards to memorize.",w=$("\n\n\t\t"),C=M("h2"),C.textContent="Try an example deck",A=$("\n\n\t\t"),S=M("ul");for(var e=0;e<T.length;e+=1)T[e].c();E=$("\n\n\t\t"),j&&j.c(),P=$("\n\t"),N=M("div"),N.innerHTML=`<a href="https://github.com/TehShrike/memorize-text-app/">Github</a>`,K(p,"input",n),K(p,"change",a),Y(p,"type","text"),p.placeholder="https://docs.google.com/spreadsheets/d/1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw/edit?usp=sharing",o.className="content",N.className="footer",r.className="container"},m(e,n){R(e,r,n),Q(r,o),Q(o,s),Q(o,d),L&&L.m(o,null),Q(o,l),Q(o,m),Q(o,u),Q(o,c),Q(c,h),Q(c,p),p.value=t.sheetUrl,Q(o,f),Q(o,g),Q(o,y),Q(o,k),Q(o,v),Q(o,b),Q(o,_),Q(o,x),Q(o,w),Q(o,C),Q(o,A),Q(o,S);for(var a=0;a<T.length;a+=1)T[a].m(S,null);Q(o,E),j&&j.m(o,null),Q(r,P),Q(r,N)},p(n,a){if(t=a,t.seenWorkbooks.length?L?L.p(n,t):(L=ue(e,t),L.c(),L.m(o,l)):L&&(L.d(1),L=null),!W&&n.sheetUrl&&(p.value=t.sheetUrl),n.exampleWorkbooks||n.asr){I=t.exampleWorkbooks;for(var r=0;r<I.length;r+=1){const a=de(t,I,r);T[r]?T[r].p(n,a):(T[r]=pe(e,a),T[r].c(),T[r].m(S,null))}for(;r<T.length;r+=1)T[r].d(1);T.length=I.length}t.error?j?j.p(n,t):(j=fe(e,t),j.c(),j.m(o,null)):j&&(j.d(1),j=null)},d(e){e&&B(r),L&&L.d(),G(p,"input",n),G(p,"change",a),q(T,e),j&&j.d()}}}// (5:2) {#if seenWorkbooks.length}
function ue(e,t){for(var n,a,r,o=t.seenWorkbooks,s=[],d=0;d<o.length;d+=1)s[d]=ce(e,le(t,o,d));return{c(){n=M("h2"),n.textContent="Review one of your decks",a=$("\n\n\t\t\t"),r=M("ul");for(var e=0;e<s.length;e+=1)s[e].c()},m(e,t){R(e,n,t),R(e,a,t),R(e,r,t);for(var o=0;o<s.length;o+=1)s[o].m(r,null)},p(t,n){if(t.asr||t.seenWorkbooks){o=n.seenWorkbooks;for(var a=0;a<o.length;a+=1){const i=le(n,o,a);s[a]?s[a].p(t,i):(s[a]=ce(e,i),s[a].c(),s[a].m(r,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(e){e&&(B(n),B(a),B(r)),q(s,e)}}}// (9:4) {#each seenWorkbooks as seenWorkbook}
function ce(e,t){var n,r,o,s,i=t.seenWorkbook.name;return{c(){n=M("li"),r=M("a"),o=$(i),r.href=s=t.asr.makePath("workbook",{key:t.seenWorkbook.key})},m(e,t){R(e,n,t),Q(n,r),Q(r,o)},p(e,t){e.seenWorkbooks&&i!==(i=t.seenWorkbook.name)&&J(o,i),(e.asr||e.seenWorkbooks)&&s!==(s=t.asr.makePath("workbook",{key:t.seenWorkbook.key}))&&(r.href=s)},d(e){e&&B(n)}}}// (49:5) {#if exampleWorkbook.moreInfoUrl}
function he(e,t){var n,r,o,s,i;return{c(){n=$("("),r=M("a"),o=$("more info"),i=$(")"),r.href=s=t.exampleWorkbook.moreInfoUrl,X(r,"font-style","italic"),r.target="_blank",r.rel="external"},m(e,t){R(e,n,t),R(e,r,t),Q(r,o),R(e,i,t)},p(e,t){e.exampleWorkbooks&&s!==(s=t.exampleWorkbook.moreInfoUrl)&&(r.href=s)},d(e){e&&(B(n),B(r),B(i))}}}// (46:3) {#each exampleWorkbooks as exampleWorkbook}
function pe(e,t){var n,r,o,s,i,d=t.exampleWorkbook.name,l=t.exampleWorkbook.moreInfoUrl&&he(e,t);return{c(){n=M("li"),r=M("a"),o=$(d),i=$("\n\t\t\t\t\t"),l&&l.c(),r.href=s=t.asr.makePath("workbook",{key:t.exampleWorkbook.key})},m(e,t){R(e,n,t),Q(n,r),Q(r,o),Q(n,i),l&&l.m(n,null)},p(t,a){t.exampleWorkbooks&&d!==(d=a.exampleWorkbook.name)&&J(o,d),(t.asr||t.exampleWorkbooks)&&s!==(s=a.asr.makePath("workbook",{key:a.exampleWorkbook.key}))&&(r.href=s),a.exampleWorkbook.moreInfoUrl?l?l.p(t,a):(l=he(e,a),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},d(e){e&&B(n),l&&l.d()}}}// (61:2) {#if error}
function fe(e,t){var n,a,r;return{c(){n=M("div"),a=$("Error: "),r=$(t.error),X(n,"color","var(--red)")},m(e,t){R(e,n,t),Q(n,a),Q(n,r)},p(e,t){e.error&&J(r,t.error)},d(e){e&&B(n)}}}function ge(e){ne(this,e),this._state=V(ie(),e.data),this._intro=!0,this._fragment=me(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/not-found/NotFound.html generated by Svelte v2.16.0 */function ye(e,t){var n,r,o,s,i,d,l,m=t.route&&ke(e,t);return{c(){n=M("h1"),n.textContent="Page not found",r=$("\n"),m&&m.c(),o=$("\n"),s=M("p"),i=M("a"),d=$("Home"),i.href=l=t.asr.makePath("index")},m(e,t){R(e,n,t),R(e,r,t),m&&m.m(e,t),R(e,o,t),R(e,s,t),Q(s,i),Q(i,d)},p(t,n){n.route?m?m.p(t,n):(m=ke(e,n),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null),t.asr&&l!==(l=n.asr.makePath("index"))&&(i.href=l)},d(e){e&&(B(n),B(r)),m&&m.d(e),e&&(B(o),B(s))}}}// (2:0) {#if route}
function ke(e,t){var n,a,r,o;return{c(){n=M("div"),a=$("Can't match route:"),r=M("pre"),o=$(t.route)},m(e,t){R(e,n,t),Q(n,a),Q(n,r),Q(r,o)},p(e,t){e.route&&J(o,t.route)},d(e){e&&B(n)}}}function ve(e){ne(this,e),this._state=V({},e.data),this._intro=!0,this._fragment=ye(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/Workbook.html generated by Svelte v2.16.0 */function be(){var e;return{c(){e=M("uiView")},m(t,n){R(t,e,n)},p:U,d(t){t&&B(e)}}}function _e(e){ne(this,e),this._state=V({},e.data),this._intro=!0,this._fragment=be(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/select-sheet/SelectSheet.html generated by Svelte v2.16.0 */function xe(e,t,n){const a=Object.create(e);return a.sheet=t[n],a}function we(e,t){function n(e){return 1===e.workbook.sheets.length?Ae:Ce}var a,r,o,s,i,d=t.workbook.name,l=n(t),m=l(e,t);return{c(){a=M("div"),r=M("div"),o=M("h1"),s=$(d),i=$("\n\n\t\t"),m.c(),r.className="content",a.className="container"},m(e,t){R(e,a,t),Q(a,r),Q(r,o),Q(o,s),Q(r,i),m.m(r,null)},p(t,a){t.workbook&&d!==(d=a.workbook.name)&&J(s,d),l===(l=n(a))&&m?m.p(t,a):(m.d(1),m=l(e,a),m.c(),m.m(r,null))},d(e){e&&B(a),m.d()}}}// (9:2) {:else}
function Ce(e,t){for(var n,a=t.workbook.sheets,r=[],o=0;o<a.length;o+=1)r[o]=Se(e,xe(t,a,o));return{c(){n=M("ol");for(var e=0;e<r.length;e+=1)r[e].c()},m(e,t){R(e,n,t);for(var a=0;a<r.length;a+=1)r[a].m(n,null)},p(t,o){if(t.asr||t.workbook||t.key){a=o.workbook.sheets;for(var s=0;s<a.length;s+=1){const i=xe(o,a,s);r[s]?r[s].p(t,i):(r[s]=Se(e,i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=a.length}},d(e){e&&B(n),q(r,e)}}}// (5:2) {#if workbook.sheets.length === 1}
function Ae(e,t){var n,a,r,o,s=t.workbook.sheets[0].name;return{c(){n=M("p"),a=$("Loading "),r=$(s),o=$("..."),X(n,"text-align","center")},m(e,t){R(e,n,t),Q(n,a),Q(n,r),Q(n,o)},p(e,t){e.workbook&&s!==(s=t.workbook.sheets[0].name)&&J(r,s)},d(e){e&&B(n)}}}// (11:4) {#each workbook.sheets as sheet}
function Se(e,t){var n,r,o,s,i,d,l,m=t.sheet.name;return{c(){n=M("li"),r=$(m),o=$(" -\n\t\t\t\t\t\t"),s=M("a"),i=$("memorize"),l=$("\n\t\t\t\t\t"),s.href=d=t.asr.makePath("workbook.sheet.memorize",{sheetId:t.sheet.id,key:t.key})},m(e,t){R(e,n,t),Q(n,r),Q(n,o),Q(n,s),Q(s,i),Q(n,l)},p(e,t){e.workbook&&m!==(m=t.sheet.name)&&J(r,m),(e.asr||e.workbook||e.key)&&d!==(d=t.asr.makePath("workbook.sheet.memorize",{sheetId:t.sheet.id,key:t.key}))&&(s.href=d)},d(e){e&&B(n)}}}function Ee(e){ne(this,e),this._state=V({},e.data),this._intro=!0,this._fragment=we(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/sheet/Sheet.html generated by Svelte v2.16.0 */function Pe(){var e;return{c(){e=M("uiView")},m(t,n){R(t,e,n)},p:U,d(t){t&&B(e)}}}function Ne(e){ne(this,e),this._state=V({},e.data),this._intro=!0,this._fragment=Pe(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/sheet/memorize/Memorize.html generated by Svelte v2.16.0 */function We({currentQuestionPosition:e,sheet:t}){const n=t.rows[e];return n?{prompt:n[0],answer:n[1]}:null}function Le({sheet:e}){return e.rows.length}function Ie({sheet:e,workbook:t}){return`Sheet1`===e.name?t.name:`${t.name} · ${e.name}`}function Te({currentCard:e}){return e.answer.split(/\s+/g)}function ze({hintLevel:e,answerWords:t}){if(0===e)return 0;return 8>=t.length?1*e:16>=t.length?2*e:3+5*(e-1)}function je({answerIsFullyVisible:e,currentCard:t,answerWords:n,numberOfHintWords:a}){return e?t.answer:n.slice(0,a).join(` `)}function Oe({answerIsFullyVisible:e,answerWords:t,numberOfHintWords:n}){return e?``:t.slice(n).join(` `)}function He({answerIsFullyVisible:e,numberOfHintWords:t,answerWords:n}){return!e&&t<n.length}function De(){return{currentQuestionPosition:0,sheet:null,answerIsFullyVisible:!1,hintLevel:0}}function Fe(){var e=M("style");e.id="svelte-123h2zb-style",e.textContent="[data-hidden=true].svelte-123h2zb{visibility:hidden}.key-identifier.svelte-123h2zb{font-family:sans-serif;background-color:var(--gray);color:var(--white);padding:2px 4px;border-radius:2px}.faint.svelte-123h2zb{color:var(--lightBlack)}.box.svelte-123h2zb{padding:32px;margin:32px 8px;border-radius:5px;box-shadow:0 0 8px 4px var(--lightGray)}.footer.svelte-123h2zb{display:flex;justify-content:space-between}@media(max-width: 600px){.footer.svelte-123h2zb{flex-direction:column}.footer.svelte-123h2zb .svelte-123h2zb{flex-basis:1.8rem}}.footer.svelte-123h2zb .svelte-123h2zb{text-align:center}.footer-center.svelte-123h2zb{flex-grow:1}.footer-left.svelte-123h2zb,.footer-right.svelte-123h2zb{flex-basis:64px}.nowrap.svelte-123h2zb{white-space:nowrap}",Q(document.head,e)}function Ue(e,t){function n(t){e.keydown(t)}function r(e){return 0===e.sheet.rows.length?Qe:Ve}var o,s,i,d,l,m,u,c,h,p,f,g,y,k,v,b,_,x,w=t.currentQuestionPosition+1;window.addEventListener("keydown",n);var C=r(t),A=C(e,t);return{c(){o=M("div"),s=M("div"),i=M("h1"),d=$(t.displayHeader),l=$("\n\n\t\t"),A.c(),m=$("\n\n\t"),u=M("div"),c=M("div"),h=M("a"),p=$("Home"),g=$("\n\t\t"),y=M("div"),y.innerHTML=`<span class="key-identifier svelte-123h2zb">[Spacebar]</span> Advance
						·
						<span class="key-identifier svelte-123h2zb">h</span> Show more hint
					`,k=$("\n\t\t"),v=M("div"),b=$(w),_=$(" / "),x=$(t.cardsInSheet),X(i,"font-size","1rem"),X(i,"text-align","center"),s.className="content",h.href=f=t.asr.makePath("index"),h.className="svelte-123h2zb",c.className="footer-left svelte-123h2zb",y.className="faint footer-center svelte-123h2zb",v.className="faint footer-right nowrap svelte-123h2zb",u.className="footer svelte-123h2zb",o.className="container"},m(e,t){R(e,o,t),Q(o,s),Q(s,i),Q(i,d),Q(s,l),A.m(s,null),Q(o,m),Q(o,u),Q(u,c),Q(c,h),Q(h,p),Q(u,g),Q(u,y),Q(u,k),Q(u,v),Q(v,b),Q(v,_),Q(v,x)},p(t,n){t.displayHeader&&J(d,n.displayHeader),C===(C=r(n))&&A?A.p(t,n):(A.d(1),A=C(e,n),A.c(),A.m(s,null)),t.asr&&f!==(f=n.asr.makePath("index"))&&(h.href=f),t.currentQuestionPosition&&w!==(w=n.currentQuestionPosition+1)&&J(b,w),t.cardsInSheet&&J(x,n.cardsInSheet)},d(e){window.removeEventListener("keydown",n),e&&B(o),A.d()}}}// (11:2) {:else}
function Ve(e,t){var n,a,r,o,s,i,d,l,m,u,c,h,p=t.currentCard.prompt;return{c(){n=M("div"),a=M("strong"),r=$(p),o=$("\n\n\t\t\t"),s=M("div"),i=$(t.visibleAnswer),d=M("span"),l=$("\u2026"),u=$("\n\n\t\t\t\t"),c=M("span"),h=$(t.hiddenAnswer),n.className="box svelte-123h2zb",d.dataset.hidden=m=0===t.hintLevel||!t.wordsAreLeftToDisplay,X(d,"color","var(--gray)"),d.className="svelte-123h2zb",X(c,"visibility","hidden"),s.className="box svelte-123h2zb"},m(e,t){R(e,n,t),Q(n,a),Q(a,r),R(e,o,t),R(e,s,t),Q(s,i),Q(s,d),Q(d,l),Q(s,u),Q(s,c),Q(c,h)},p(e,t){e.currentCard&&p!==(p=t.currentCard.prompt)&&J(r,p),e.visibleAnswer&&J(i,t.visibleAnswer),(e.hintLevel||e.wordsAreLeftToDisplay)&&m!==(m=0===t.hintLevel||!t.wordsAreLeftToDisplay)&&(d.dataset.hidden=m),e.hiddenAnswer&&J(h,t.hiddenAnswer)},d(e){e&&(B(n),B(o),B(s))}}}// (7:2) {#if sheet.rows.length === 0}
function Qe(){var e;return{c(){e=M("h2"),e.textContent="This sheet doesn't have any rows!"},m(t,n){R(t,e,n)},p:U,d(t){t&&B(e)}}}function Re(e){ne(this,e),this._state=V(De(),e.data),this._recompute({currentQuestionPosition:1,sheet:1,workbook:1,currentCard:1,hintLevel:1,answerWords:1,answerIsFullyVisible:1,numberOfHintWords:1},this._state),this._intro=!0,document.getElementById("svelte-123h2zb-style")||Fe(),this._fragment=Ue(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function Be(e){const t=e;return new Promise((n,a)=>{const r=window.indexedDB.open(e,Mt);r.onupgradeneeded=()=>r.result.createObjectStore(t),r.onblocked=()=>a(new Error(`onblocked`)),r.onerror=()=>a(r.error),r.onsuccess=()=>{const e=r.result;n((n,a)=>qe({db:e,storeName:t,transactionType:n,fn:a}))}})}function qe({db:e,storeName:t,transactionType:n,fn:a}){return new Promise((r,o)=>{const s=e.transaction(t,n),i=s.objectStore(t),d=a(i),l=Array.isArray(d)?Promise.all(d.map(Me)):Me(d);s.onerror=()=>o(s.error),s.oncomplete=()=>r(l)})}function Me(e){const t=qt();return e.onerror=n=>{`function`==typeof n.preventDefault&&n.preventDefault(),t.reject(e.error)},e.onsuccess=()=>t.resolve(e.result),t.promise}var $e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Ke=s,Ge=new RegExp("(\\\\.)|([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?|([.+*?=^!:${}()[\\]|\\/])","g"),Ye="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,Je=i(function(e){/**
	 * Constructor to create a storage for our `EE` objects.
	 * An `Events` instance is a plain object whose properties are event names.
	 *
	 * @constructor
	 * @api private
	 */function t(){}//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
/**
	 * Representation of a single event listener.
	 *
	 * @param {Function} fn The listener function.
	 * @param {Mixed} context The context to invoke the listener with.
	 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
	 * @constructor
	 * @api private
	 */function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}/**
	 * Minimal `EventEmitter` interface that is molded against the Node.js
	 * `EventEmitter` interface.
	 *
	 * @constructor
	 * @api public
	 */function a(){this._events=new t,this._eventsCount=0}/**
	 * Return an array listing the events for which the emitter has registered
	 * listeners.
	 *
	 * @returns {Array}
	 * @api public
	 */var r=Object.prototype.hasOwnProperty,o="~";/**
	 * Return the listeners registered for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Boolean} exists Only check if there are listeners.
	 * @returns {Array|Boolean}
	 * @api public
	 */ /**
	 * Calls each of the listeners registered for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @returns {Boolean} `true` if the event had listeners, else `false`.
	 * @api public
	 */ /**
	 * Add a listener for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn The listener function.
	 * @param {Mixed} [context=this] The context to invoke the listener with.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Add a one-time listener for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn The listener function.
	 * @param {Mixed} [context=this] The context to invoke the listener with.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Remove the listeners of a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn Only remove the listeners that match this function.
	 * @param {Mixed} context Only remove the listeners that have this context.
	 * @param {Boolean} once Only remove one-time listeners.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Remove all listeners, or those of the specified event.
	 *
	 * @param {String|Symbol} [event] The event name.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ //
// Alias methods names because people roll like that.
//
//
// This function doesn't apply anymore.
//
//
// Expose the prefix.
//
//
// Allow `EventEmitter` to be imported as module namespace.
//
Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(o=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e,t){var n=o?o+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var r=0,s=a.length,d=Array(s);r<s;r++)d[r]=a[r].fn;return d},a.prototype.emit=function(e,t,n,a,r,s){var d=o?o+e:e;if(!this._events[d])return!1;var l,m,u=this._events[d],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,r),!0;case 6:return u.fn.call(u.context,t,n,a,r,s),!0;}for(m=1,l=Array(c-1);m<c;m++)l[m-1]=arguments[m];u.fn.apply(u.context,l)}else{var h,p=u.length;for(m=0;m<p;m++)switch(u[m].once&&this.removeListener(e,u[m].fn,void 0,!0),c){case 1:u[m].fn.call(u[m].context);break;case 2:u[m].fn.call(u[m].context,t);break;case 3:u[m].fn.call(u[m].context,t,n);break;case 4:u[m].fn.call(u[m].context,t,n,a);break;default:if(!l)for(h=1,l=Array(c-1);h<c;h++)l[h-1]=arguments[h];u[m].fn.apply(u[m].context,l);}}return!0},a.prototype.on=function(e,t,a){var r=new n(t,a||this),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},a.prototype.once=function(e,t,a){var r=new n(t,a||this,!0),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,n,a,r){var s=o?o+e:e;if(!this._events[s])return this;if(!n)return 0==--this._eventsCount?this._events=new t:delete this._events[s],this;var d=this._events[s];if(d.fn)d.fn!==n||r&&!d.once||a&&d.context!==a||(0==--this._eventsCount?this._events=new t:delete this._events[s]);else{for(var l=0,m=[],u=d.length;l<u;l++)(d[l].fn!==n||r&&!d[l].once||a&&d[l].context!==a)&&m.push(d[l]);//
// Reset the array, or remove it completely if we have no more listeners.
//
m.length?this._events[s]=1===m.length?m[0]:m:0==--this._eventsCount?this._events=new t:delete this._events[s]}return this},a.prototype.removeAllListeners=function(e){var n;return e?(n=o?o+e:e,this._events[n]&&(0==--this._eventsCount?this._events=new t:delete this._events[n])):(this._events=new t,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,e.exports=a}),Xe=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},Ze=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,nt=function(){var e=String.fromCharCode;try{if(!Object.assign)return!1;// Detect buggy property enumeration order in older V8 versions.
// https://bugs.chromium.org/p/v8/issues/detail?id=4118
var t=new String("abc");// eslint-disable-line no-new-wrappers
if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;// https://bugs.chromium.org/p/v8/issues/detail?id=3056
for(var a={},r=0;10>r;r++)a["_"+e(r)]=r;var n=Object.getOwnPropertyNames(a).map(function(e){return a[e]});if("0123456789"!==n.join(""))return!1;// https://bugs.chromium.org/p/v8/issues/detail?id=3056
var o={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){// We don't expect any of the above to throw, but better to be safe.
return!1}}()?Object.assign:function(e){for(var t,n,a=d(e),r=1;r<arguments.length;r++){for(var o in t=Object(arguments[r]),t)et.call(t,o)&&(a[o]=t[o]);if(Ze){n=Ze(t);for(var l=0;l<n.length;l++)tt.call(t,n[l])&&(a[n[l]]=t[n[l]])}}return a},at={extract:function(e){return e.split("?")[1]||""},parse:function(e,t){t=nt({arrayFormat:"none"},t);var n=m(t),a=Object.create(null);// Create an object with no prototype
// https://github.com/sindresorhus/query-string/issues/47
return"string"==typeof e?(e=e.trim().replace(/^(\?|#|&)/,""),!e)?a:(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=0<t.length?t.join("="):void 0;// Firefox (pre 40) decodes `%3D` to `=`
// https://github.com/sindresorhus/query-string/pull/37
o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,a)}),Object.keys(a).sort().reduce(function(e,t){var n=a[t];return e[t]=!n||"object"!=typeof n||Array.isArray(n)?n:c(n),e},Object.create(null))):a},stringify:function(e,t){t=nt({encode:!0,strict:!0,arrayFormat:"none"},t);var n=l(t);return e?Object.keys(e).sort().map(function(a){var r=e[a];if(r===void 0)return"";if(null===r)return u(a,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0===e||o.push(n(a,e,o.length))}),o.join("&")}return u(a,t)+"="+u(r,t)}).filter(function(e){return 0<e.length}).join("&"):""}},rt=function(){for(var e,t={},n=0;n<arguments.length;n++)for(var a in e=arguments[n],e)ot.call(e,a)&&(t[a]=e[a]);return t},ot=Object.prototype.hasOwnProperty,st=function(e){function t(t){return function(n){n!==a&&t(e,n)}}var n=new Je,a="",r=k();return e.addEventListener("hashchange",function(){a!==n.get()&&(a=n.get(),n.emit("hashchange"))}),n.go=t(f),n.replace=t(h),n.get=g.bind(null,e,r),n},it=/^([^#]*)(:?#.*)?$/,dt=function(e){var t=Ke(e);// The only reason I'm returning a new object instead of the results of the pathToRegexp
// function is so that if the official implementation ends up returning an
// allTokens-style array via some other mechanism, I may be able to change this file
// without having to change the rest of the module in index.js
return{regex:t,allTokens:t.allTokens}},lt=at.stringify,mt=L(function(e){function t(t){var a={};return n.forEach(function(n){a[n]=e[n][t]}),a}var n=Object.keys(e);n.forEach(function(t){if(!Array.isArray(e[t]))throw new Error(t+" is not an array")});for(var a=n.reduce(function(t,n){var a=e[n].length;return t>a?t:a},0),r=[],o=0;o<a;++o)r.push(t(o));return r}),ut=L(Ke),ct=L(function(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);return new Promise(function(a,r){n.push(function(e,t){e?r(e):a(t)});var o=e.apply(t,n),s=o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then;s&&a(o)})}}),ht=L(Je),pt=L(function(e,t){function n(e,t){r.emit("not found",e,t)}function a(){t.removeListener("hashchange",s)}var r=new Je;E(e)&&(t=e,e=null),e=e||{},t||(t=st(window));var o=[],s=v.bind(null,o,t,!!e.reverse,n);return t.on("hashchange",s),r.add=C.bind(null,o),r.stop=a,r.evaluateCurrent=A.bind(null,o,t,!!e.reverse,n),r.replace=t.replace,r.go=t.go,r.location=t,r}),ft=L(function(e,t){var n="string"==typeof e?dt(e):e,a=n.allTokens,r=n.regex;if(t){var o=a.map(function(n){if(n.string)return n.string;var a="undefined"!=typeof t[n.name];if(!n.optional&&!a)throw new Error("Must supply argument "+n.name+" for path "+e);return a?n.delimiter+encodeURIComponent(t[n.name]):""}).join("");if(!r.test(o))throw new Error("Provided arguments do not match the original arguments");return N(o,t,a)}return n}),gt=L(function(e){"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}),yt=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){e.exports=function(e){return e.split(".").reduce(function(e,t){return e.push(e.length?e[e.length-1]+"."+t:t),e},[])}}),kt=function(){function e(e){var t=yt(e);return t.map(function(e){if(!a[e])throw new Error("State "+e+" not found");return a[e]})}function t(e){var t=yt(e);if(1<t.length){var n=t.length-2;return t[n]}return null}function n(e){var t=a[e],r=t&&("function"==typeof t.defaultChild?t.defaultChild():t.defaultChild);if(!r)return e;return n(e+"."+r)}var a={};return{add:function(e,t){a[e]=t},get:function(e){return e&&a[e]},getHierarchy:e,getParent:function(e){var n=t(e);return n&&a[n]},getParentName:t,guaranteeAllStatesExist:function(e){var t=yt(e),n=t.filter(function(e){return!a[e]});if(0<n.length)throw new Error("State "+n[n.length-1]+" does not exist")},buildFullStateRoute:function(t){return e(t).map(function(e){return"/"+(e.route||"")}).join("").replace(/\/{2,}/g,"/")},applyDefaultChildStates:n}},vt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))},bt=function(e){var t=I(),n=function(n){return T(vt(n,{stateState:e,getPathParameters:t}))};return function(e){return z(vt(e,{parametersChanged:n}))}},_t=function(){var e={name:"",parameters:{}};return{get:function(){return e},set:function(t,n){e={name:t,parameters:n}}}},xt=function(e){var t=!1,n=!1,a={destroy:[],change:[],create:[]};return e.forEach(function(e){t=t||e.stateParametersChanged,n=n||e.stateNameChanged,e.nameBefore&&(n?a.destroy.push(e.nameBefore):t&&a.change.push(e.nameBefore)),e.nameAfter&&n&&a.create.push(e.nameAfter)}),a},wt=function(e){function t(){o=null,s&&n()}function n(){o=s,s=null,o.beginStateChange()}function a(){o.transition.cancelled=!0;var t=new Error("State transition cancelled by the state transition manager");t.wasCancelledBySomeoneElse=!0,e.emit("stateChangeCancelled",t)}function r(e){var t={cancelled:!1,cancellable:!0};return{transition:t,beginStateChange:function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.apply(void 0,[t].concat(a))}}}var o=null,s=null,i=function(){return!!o};e.on("stateChangeAttempt",function(e){s=r(e),i()&&o.transition.cancellable?a():!i()&&n()}),e.on("stateChangeError",t),e.on("stateChangeCancelled",t),e.on("stateChangeEnd",t)},Ct={reverse:!1},At=function(e,t){var n=Promise.resolve();return Promise.all(e.map(function(a,r){return n=n.then(function(){return t(a,r,e)})}))},St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et=function(e){return function(t){return t[e]}},Pt=function(e){return e.slice().reverse()},Nt=function(e){return function(t){return"function"==typeof t[e]}},Wt=function(e){return e&&("object"===("undefined"==typeof e?"undefined":St(e))||"function"==typeof e)&&"function"==typeof e.then},Lt=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise(function(t){return t(e.apply(void 0,n))})},It=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"],Tt=i(function(e){(function(t,n){e.exports=n()})(Ye,function(){function t(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function a(e,a){var r=a&&!0===a.clone;return r&&t(e)?s(n(e),e,a):e}function r(n,r,o){var d=n.slice();return r.forEach(function(r,e){"undefined"==typeof d[e]?d[e]=a(r,o):t(r)?d[e]=s(n[e],r,o):-1===n.indexOf(r)&&d.push(a(r,o))}),d}function o(e,n,r){var o={};return t(e)&&Object.keys(e).forEach(function(t){o[t]=a(e[t],r)}),Object.keys(n).forEach(function(i){o[i]=t(n[i])&&e[i]?s(e[i],n[i],r):a(n[i],r)}),o}function s(e,t,n){var s=Array.isArray(t),i=(n||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?i(e,t,n):a(t,n):o(e,t,n)}return s.all=function(e,t){if(!Array.isArray(e)||2>e.length)throw new Error("first argument should be an array with at least two elements");// we are sure there are at least 2 values, so it is safe to have no initial value
return e.reduce(function(e,n){return s(e,n,t)})},s})}),zt={destroy:function(e){this.destroy=U,this.fire("destroy"),this.set=U,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:ee,on:function(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(V({},e));this.root._lock||te(this.root)},_recompute:U,_set:function(e){var t=this._state,n={},a=!1;for(var r in e=V(this._staged,e),this._staged={},e)this._differs(e[r],t[r])&&(n[r]=a=!0);a&&(this._state=V(V({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){V(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e==e?e!==t||e&&"object"==typeof e||"function"==typeof e:t==t}},jt={buildIndexUrl:function(e){return"https://spreadsheets.google.com/feeds/worksheets/"+e+"/public/basic?alt=json"},buildSheetUrl:function(e,t){return"https://spreadsheets.google.com/feeds/list/"+e+"/"+t+"/public/values?alt=json"}},Ot=function(e){return Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]})},Ht=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Dt=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){var t=jt.buildIndexUrl,n=jt.buildSheetUrl;e.exports=function(e){return{getWorkbook:function(n){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:e;return s(t(n)).then(function(e){var t=e.feed,n=t.entry.map(function(e){var t=e.link.find(function(e){return"self"===e.rel}).href;return{name:a(e.title),id:o(t),updated:a(e.updated)}});return{name:a(t.title),updated:a(t.updated),authors:r(t),sheets:n}})},getSheet:function(t,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:e;return s(n(t,o)).then(function(e){var t=e.feed,n=t.entry.map(function(e){var t=Ot(e).filter(function(e){var t=Ht(e,1),n=t[0];return /^gsx\$/.test(n)}).map(function(e){var t=Ht(e,2),n=t[0],r=t[1];return{key:n.replace("gsx$",""),value:a(r)}}),n=t.map(function(e){var t=e.value;return t});return t.filter(function(e){var t=e.key;return /^[^_]/.test(t)}).forEach(function(e){var t=e.key,a=e.value;n[t]=a}),n});return{name:a(t.title),updated:a(t.updated),authors:r(t),rows:n}})},urlToKey:function(e){return s(/key=(.*?)(&|#|$)/,e)||s(/d\/(.*?)\/pubhtml/,e)||s(/spreadsheets\/d\/(.*?)\//,e)||i("No key found in "+e)}}};var a=function(e){return e.$t},r=function(e){return e.author.map(function(e){var t=e.name,n=e.email;return{name:a(t),email:a(n)}})},o=function(e){return e.split("/").pop()},s=function(e,t){var n=e.exec(t);return n&&n[1]},i=function(e){throw new Error(e)}}),Ft=Dt(function(e){var t=Object.assign({method:"GET",success:re,parse:se,serialize:oe,headers:{}},e);return function(e,n){return new Promise(function(a,r){var o=new XMLHttpRequest;o.addEventListener("load",function(){try{var e=t.parse(o);t.success(o)?a(e):r(e)}catch(t){r(t)}}),o.addEventListener("error",r),o.addEventListener("abort",r),o.open(t.method,e),Object.keys(t.headers).forEach(function(e){o.setRequestHeader(e,t.headers[e])}),"undefined"==typeof n?o.send():o.send(t.serialize(n))})}}()),Ut=Ft,Vt=[{name:`Good verses to memorize`,key:`1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw`},{name:`Bible Acrostic`,key:`1OX4eS10MxNQbgfMzIZx2IEeivq6dGOc_F8X3IraMNds`,moreInfoUrl:`https://gist.github.com/TehShrike/54495891029b617dff4c31fb8f08251c`}];/* client/view/index/Index.html generated by Svelte v2.16.0 */const{urlToKey:Qt}=Ut;var Rt={loadSheet(e){try{const t=Qt(e);this.mediatorCall(`stateGo`,`workbook`,{key:t})}catch(e){this.set({error:e})}}};V(ge.prototype,zt),V(ge.prototype,Rt);V(ve.prototype,zt);V(_e.prototype,zt);V(Ee.prototype,zt);V(Ne.prototype,zt);var Bt={goToNextCard(){const{currentQuestionPosition:e,cardsInSheet:t}=this.get(),n=e+1;this.set({currentQuestionPosition:n>=t?0:n,answerIsFullyVisible:!1,hintLevel:0})},keydown({key:e}){` `===e?this.get().answerIsFullyVisible?this.goToNextCard():this.set({answerIsFullyVisible:!0}):(`h`===e||`H`===e)&&(this.set({hintLevel:this.get().hintLevel+1}),!this.get().wordsAreLeftToDisplay&&this.set({answerIsFullyVisible:!0}))}};V(Re.prototype,zt),V(Re.prototype,Bt),Re.prototype._recompute=function(e,t){(e.currentQuestionPosition||e.sheet)&&this._differs(t.currentCard,t.currentCard=We(t))&&(e.currentCard=!0),e.sheet&&this._differs(t.cardsInSheet,t.cardsInSheet=Le(t))&&(e.cardsInSheet=!0),(e.sheet||e.workbook)&&this._differs(t.displayHeader,t.displayHeader=Ie(t))&&(e.displayHeader=!0),e.currentCard&&this._differs(t.answerWords,t.answerWords=Te(t))&&(e.answerWords=!0),(e.hintLevel||e.answerWords)&&this._differs(t.numberOfHintWords,t.numberOfHintWords=ze(t))&&(e.numberOfHintWords=!0),(e.answerIsFullyVisible||e.currentCard||e.answerWords||e.numberOfHintWords)&&this._differs(t.visibleAnswer,t.visibleAnswer=je(t))&&(e.visibleAnswer=!0),(e.answerIsFullyVisible||e.answerWords||e.numberOfHintWords)&&this._differs(t.hiddenAnswer,t.hiddenAnswer=Oe(t))&&(e.hiddenAnswer=!0),(e.answerIsFullyVisible||e.numberOfHintWords||e.answerWords)&&this._differs(t.wordsAreLeftToDisplay,t.wordsAreLeftToDisplay=He(t))&&(e.wordsAreLeftToDisplay=!0)};var qt=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};const Mt=1;const $t=function(){const e=Object.create(null);return{provide(t,n){if(`function`!=typeof n)throw new Error(`${n} is not a function`);else if(`string`!=typeof t)throw new Error(`The provider name must be a string`);else if(e[t])throw new Error(`There is already a provider for "${t}"`);else e[t]=n;let a=!1;return()=>{a||(delete e[t],a=!0)}},call(t,...n){if(e[t])return e[t](...n);throw new Error(`No provider found for "${t}"`)}}}(),Kt=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return function(t){function n(n,r){function o(e,t){return t.methods?D(e,t,t.methods):new e(t)}function s(){u.set({asr:a})}var i=n.element,d=n.template,l=n.content,m=Tt(e,{target:i,data:Object.assign(l,e.data,{asr:a})}),u=void 0;try{if("function"==typeof d)u=o(d,m);else{var c=Tt(m,d.options);u=o(d.component,c)}}catch(t){return void r(t)}t.on("stateChangeEnd",s),u.on("destroy",function(){t.removeListener("stateChangeEnd",s)}),u.mountedToTarget=i,r(null,u)}var a={makePath:t.makePath,stateIsActive:t.stateIsActive};return{render:n,reset:function(e,t){var a=e.domApi,r=a.mountedToTarget;a.destroy();var o=Object.assign({element:r},e);n(o,t)},destroy:function(e,t){e.destroy(),t()},getChildElement:function(e,t){try{var n=e.mountedToTarget,a=n.querySelector("uiView");t(null,a)}catch(n){t(n)}}}}}({methods:{mediatorCall:$t.call}}),Gt=function(e,t){function n(e,t){gt(function(){if(y.emit(e,t),console.error(e+" - "+t.message),_)throw t})}function a(e){var t=p.get(e);return y.emit("beforeDestroyState",{state:t,domApi:N[e]}),W[e].emit("destroy"),W[e].removeAllListeners(),delete W[e],delete P[e],C(N[e]).then(function(){delete N[e],y.emit("afterDestroyState",{state:t})})}function r(e,t){var n=N[t],a=j(P,t),r=p.get(t);return y.emit("beforeResetState",{domApi:n,content:a,state:r,parameters:e}),W[t].emit("destroy"),delete W[t],E({domApi:n,content:a,template:r.template,parameters:e}).then(function(n){n&&(N[t]=n),y.emit("afterResetState",{domApi:N[t],content:a,state:r,parameters:e})})}function o(e){return new Promise(function(n){var a=p.getParent(e);if(a){var r=N[a.name];n(A(r))}else n(t)})}function s(e,t){return o(t).then(function(n){var a=p.get(t),r=j(P,t);return y.emit("beforeCreateState",{state:a,content:r,parameters:e}),S({template:a.template,element:n,content:r,parameters:e}).then(function(n){return N[t]=n,y.emit("afterCreateState",{state:a,domApi:n,content:r,parameters:e}),n})})}function i(e,t){return At(e,function(e){return s(t,e)})}function d(e,t){try{var a=p.applyDefaultChildStates(e.name);if(a===e.name)m(a,t);else{// There are default child states that need to be applied
var r=c(a,t),o=w.location.get();r===o?m(a,t):y.go(a,t,{replace:!0})}}catch(e){n("stateError",e)}}function l(e){return e.change.concat(e.create).map(p.get)}function m(e,t){y.emit("stateChangeAttempt",function(n){u(e,t,n)})}function u(e,t,o){function s(t){return function(){if(o.cancelled){var n=new Error("The transition to "+e+" was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}else return t.apply(void 0,arguments)}}return Lt(p.guaranteeAllStatesExist,e).then(function(){var n=p.get(e),a=n.defaultParameters||n.defaultQuerystringParameters||{},r=Object.keys(a).some(function(e){return"undefined"==typeof t[e]});if(r)throw O(e,vt(a,t));return n}).then(s(function(e){y.emit("stateChangeStart",e,t,v(e.name)),g.set(e.name,t)})).then(function(){var n=k({original:f.get(),destination:{name:e,parameters:t}});return xt(n);// { destroy, change, create }
}).then(s(function(e){function n(e){return e.map(p.get).forEach(function(e){var n=new ht,a=Object.create(n);a.domApi=N[e.name],a.data=e.data,a.parameters=t,a.content=j(P,e.name),W[e.name]=n;try{e.activate&&e.activate(a)}catch(t){gt(function(){throw t})}})}return H(l(e),vt(t)).catch(function(t){throw t.stateChangeError=!0,t}).then(s(function(s){o.cancellable=!1;var d=function(){return n(e.change.concat(e.create))};return P=vt(P,s),At(Pt(e.destroy),a).then(function(){return At(Pt(e.change),function(e){return r(vt(t),e)})}).then(function(){return i(e.create,vt(t)).then(d)})}))})).then(function(){f.set(e,t);try{y.emit("stateChangeEnd",p.get(e),t,v(e))}catch(t){n("stateError",t)}}).catch(s(function(e){return e&&e.redirectTo?(y.emit("stateChangeCancelled",e),y.go(e.redirectTo.name,e.redirectTo.params,{replace:!0})):void(e&&n("stateChangeError",e))})).catch(function(e){if(e&&e.wasCancelledBySomeoneElse);else throw new Error("This probably shouldn't happen, maybe file an issue or something "+e)})}function c(e,t,n){function a(){if(!g.get().name)throw new Error("makePath required a previous state to exist, and none was found");return g.get()}n&&n.inherit&&(t=vt(a().parameters,t));var r=null===e?a().name:e,o=p.get(r)||{},s=o.defaultParameters||o.defaultQuerystringParameters;t=vt(s,t),p.guaranteeAllStatesExist(r);var i=p.buildFullStateRoute(r);return ft(i,t||{})}var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},p=kt(),f=_t(),g=_t(),y=new ht,k=bt(p),v=function(e){return yt(e).map(p.get)};wt(y);var b=vt({throwOnError:!0,pathPrefix:"#"},h),_=b.throwOnError,x=b.pathPrefix,w=h.router||pt(Ct);w.on("not found",function(e,t){y.emit("routeNotFound",e,t)});var C=null,A=null,S=null,E=null,P={},N={},W={},L={replace:!1};y.addState=function(e){if("undefined"==typeof e)throw new Error("Expected 'state' to be passed in.");else if("undefined"==typeof e.name)throw new Error("Expected the 'name' option to be passed in.");else if("undefined"==typeof e.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(e).filter(function(e){return-1===It.indexOf(e)}).forEach(function(e){console.warn("Unexpected property passed to addState:",e)}),p.add(e.name,e);var t=p.buildFullStateRoute(e.name);w.add(t,function(t){return d(e,t)})},y.go=function(e,t,a){a=vt(L,a);var r=a.replace?w.replace:w.go;return Lt(c,e,t,a).then(r,function(e){return n("stateChangeError",e)})},y.evaluateCurrentRoute=function(e,t){return Lt(c,e,t).then(function(e){w.evaluateCurrent(e)}).catch(function(e){return n("stateError",e)})},y.makePath=function(e,t,n){return x+c(e,t,n)},y.getActiveState=function(){return f.get()},y.stateIsActive=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=f.get(),a=n.name===e||0===n.name.indexOf(e+".");return a&&(!t||Object.keys(t).every(function(e){return t[e]===n.parameters[e]}))};var I=e(y);return C=ct(I.destroy),A=ct(I.getChildElement),S=ct(I.render),E=ct(I.reset),y}(Kt,document.getElementById(`app-target`));$t.provide(`stateGo`,Gt.go),$t.provide(`onStateRouter`,(e,t)=>{Gt.on(e,t)});const Yt=[async e=>{const t=await Be(`seen-sheets2`).catch(e=>(console.error(e),null));t?(e.provide(`rememberWorkbook`,(e,n)=>t(`readwrite`,t=>t.put({key:e,name:n},e))),e.provide(`getAllSeenWorkbooks`,async()=>t(`readonly`,e=>e.getAll()))):(e.provide(`rememberWorkbook`,async()=>{}),e.provide(`getAllSeenWorkbooks`,async()=>[]))},e=>{e.provide(`getWorkbook`,Ut.getWorkbook),e.provide(`getSheet`,Ut.getSheet)}].map(e=>e($t));[e=>({name:`index`,route:`home`,template:ge,async resolve(){return{seenWorkbooks:await e.call(`getAllSeenWorkbooks`)}}}),()=>({name:`not-found`,route:`not-found`,querystringParameters:[`route`,`parameters`],template:ve,async resolve(e,t){return t}}),e=>({name:`workbook`,defaultChild:`select-sheet`,route:`workbook/:key`,template:_e,async resolve(t,{key:n}){const a=await e.call(`getWorkbook`,n);return`1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw`!==n&&e.call(`rememberWorkbook`,n,a.name),{workbook:a,key:n}}}),e=>({name:`workbook.select-sheet`,route:`select`,template:Ee,async resolve(e,{key:t}){return{key:t}},activate({content:t,parameters:n}){1===t.workbook.sheets.length&&e.call(`stateGo`,`workbook.sheet.memorize`,{key:n.key,sheetId:t.workbook.sheets[0].id},{replace:!0,inherit:!0})}}),e=>({name:`workbook.sheet`,route:`sheet/:sheetId`,defaultChild:`memorize`,template:Ne,async resolve(t,{key:n,sheetId:a}){const r=await e.call(`getSheet`,n,a);return{sheet:r,sheetId:a}}}),()=>({name:`workbook.sheet.memorize`,route:`memorize`,template:Re})].map(e=>e($t)).forEach(Gt.addState),Gt.on(`routeNotFound`,e=>{Gt.go(`not-found`,{route:e},{replace:!0})}),Gt.on(`stateChangeStart`,(e,t)=>console.log(`stateChangeStart`,e.name,t)),Gt.on(`stateChangeError`,e=>console.error(`stateChangeError`,e)),Gt.on(`stateError`,e=>console.error(`stateError`,e)),Gt.on(`stateChangeEnd`,(e,t)=>console.log(`stateChangeEnd`,e.name,t));const Jt=function(e){function t(e){var t=e.state,n=e.domApi;a[t.name]=n,r.forEach(function(e){return e(n)})}function n(e){var t=e.state,n=e.domApi;a[t.name]||console.error("detaching, but no current dom api for that name was found"),o.forEach(function(e){return e(n)}),delete a[t.name]}var a={},r=[],o=[];return e.on("afterCreateState",t),e.on("afterResetState",t),e.on("beforeResetState",n),e.on("beforeDestroyState",n),{addDomApiAttachListener:function(e){return Object.keys(a).forEach(function(t){return e(a[t])}),F(r,e)},addDomApiDetachListener:function(e){return F(o,e)}}}(Gt);Jt.addDomApiAttachListener(e=>{e.onStateInit&&e.onStateInit()}),Jt.addDomApiDetachListener(e=>{e.onStateCleanup&&e.onStateCleanup()}),Promise.all(Yt).then(()=>{Gt.evaluateCurrentRoute(`index`)}).catch(e=>{console.error(e)})})();
//# sourceMappingURL=build.js.map
